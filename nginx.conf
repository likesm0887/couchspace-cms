server {
  listen 80;
  
  # Add CORS headers for media files
  location ~* \.(mp3|wav|ogg|mp4|webm|jpg|jpeg|png|gif|svg|ico)$ {
    root   /usr/share/nginx/html;
    add_header Access-Control-Allow-Origin *;
    add_header Access-Control-Allow-Methods "GET, POST, OPTIONS";
    add_header Access-Control-Allow-Headers "Origin, X-Requested-With, Content-Type, Accept, Authorization, Cache-Control";
    add_header Cross-Origin-Resource-Policy "cross-origin";
    expires 1y;
    try_files $uri /index.html;
  }
  
  location / {
    root   /usr/share/nginx/html;
    index  index.html index.htm;
    try_files $uri /index.html;
  }
  
  error_page 500 502 503 504 /50x.html;
  location = /50x.html {
    root  /usr/share/nginx/html;
  }
}